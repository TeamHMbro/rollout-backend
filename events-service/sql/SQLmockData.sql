
TRUNCATE TABLE
    event_members,
    liked_posts,
    saved_posts,
    events,
    users
RESTART IDENTITY CASCADE;

-- Пользователи
INSERT INTO users (id, user_name, avatar, city, created_at, updated_at)
VALUES
    ('d9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 'alikhan', NULL, 'Astana', now(), now()),
    ('5f6c3628-0554-4a54-94cc-52e048e1b222', 'bota',    NULL, 'Astana', now(), now()),
    ('b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 'dias',    NULL, 'Astana', now(), now()),
    ('f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 'arina',   NULL, 'Almaty', now(), now());

-- События
INSERT INTO events (
    id,
    owner_id,
    title,
    description,
    type,
    city,
    address,
    visibility,
    status,
    max_members,
    members_count,
    price,
    payment,
    event_start_at,
    event_end_at,
    post_date,
    is_recurring,
    recurrence_rule,
    call_link,
    likes_count,
    view_count,
    created_at,
    updated_at
)
VALUES
    (1,
     'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111',
     'Basketball 3x3 under bridge',
     'Играем 3x3 под мостом в парке Триатлон. Нужны 9 человек, уровень от любителя.',
     'Offline',
     'Astana',
     'Triathlon Park, under bridge',
     'PublicCity',
     'Published',
     9,
     4,
     NULL,
     NULL,
     '2025-12-01T19:00:00+05',
     '2025-12-01T21:00:00+05',
     now(),
     false,
     NULL,
     NULL,
     3,
     40,
     now(),
     now()
    ),
    (2,
     '5f6c3628-0554-4a54-94cc-52e048e1b222',
     'Night coding session: pet projects',
     'Собираемся в коворкинге, пишем пет-проекты, общаемся, пьём кофе.',
     'Offline',
     'Astana',
     'Co-working Space "Startup Garage"',
     'PublicCity',
     'Published',
     12,
     3,
     0,
     'OnTheSpot',
     '2025-12-02T20:00:00+05',
     '2025-12-03T00:00:00+05',
     now(),
     false,
     NULL,
     NULL,
     5,
     25,
     now(),
     now()
    ),
    (3,
     'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33',
     'Valorant ranked night',
     'Собираем стак, играем рейтинги в Valorant, Discord обязательно.',
     'Online',
     'Astana',
     'Online / Discord',
     'PublicCity',
     'Published',
     5,
     4,
     NULL,
     NULL,
     '2025-12-01T22:00:00+05',
     '2025-12-02T01:00:00+05',
     now(),
     false,
     NULL,
     'https://discord.gg/example',
     8,
     60,
     now(),
     now()
    ),
    (4,
     'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111',
     'Daily standup RollOut team',
     'Ежедневный стендап команды RollOut. Обсуждаем задачи и блокеры.',
     'Online',
     'Astana',
     'Online / Google Meet',
     'PrivateLink',
     'Published',
     NULL,
     4,
     NULL,
     NULL,
     '2025-12-01T09:00:00+05',
     NULL,
     now(),
     true,
     'FREQ=DAILY;BYHOUR=9;BYMINUTE=0;BYSECOND=0',
     'https://meet.google.com/example',
     0,
     10,
     now(),
     now()
    ),
    (5,
     'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44',
     'Board games & chill',
     'Играем в настолки: Codenames, Имаджинариум, Mafia.',
     'Offline',
     'Almaty',
     'Board Game Cafe "Meeple House"',
     'PublicCity',
     'Published',
     10,
     5,
     2000,
     'OnTheSpot',
     '2025-12-03T18:30:00+05',
     '2025-12-03T22:30:00+05',
     now(),
     false,
     NULL,
     NULL,
     7,
     35,
     now(),
     now()
    ),
    (6,
     '5f6c3628-0554-4a54-94cc-52e048e1b222',
     'Morning workout',
     'Лёгкая силовая тренировка + кардио, без фанатизма.',
     'Offline',
     'Astana',
     'Fitness Club "Energy", Left Bank',
     'FriendsOnly',
     'Published',
     4,
     2,
     NULL,
     NULL,
     '2025-12-02T07:30:00+05',
     '2025-12-02T08:30:00+05',
     now(),
     false,
     NULL,
     NULL,
     1,
     12,
     now(),
     now()
    ),
    (7,
     'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44',
     'English speaking club (online)',
     'Практика разговорного английского, уровень A2-B2, тема: travel.',
     'Online',
     'Almaty',
     'Online / Zoom',
     'PublicCity',
     'Published',
     8,
     3,
     0,
     'Immediately',
     '2025-12-04T20:00:00+05',
     '2025-12-04T21:30:00+05',
     now(),
     false,
     NULL,
     'https://zoom.us/j/123456789',
     4,
     22,
     now(),
     now()
    );

-- Если у тебя events.id = bigserial и есть sequence
SELECT setval('events_id_seq', (SELECT MAX(id) FROM events));

-- Участники
INSERT INTO event_members (id, event_id, user_id, status, role, joined_at)
VALUES
    (1, 1, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 'Going', 'Organizer', now()),
    (2, 1, '5f6c3628-0554-4a54-94cc-52e048e1b222', 'Going', 'Participant', now()),
    (3, 1, 'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 'Going', 'Participant', now()),
    (4, 1, 'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 'Going', 'Participant', now()),

    (5, 2, '5f6c3628-0554-4a54-94cc-52e048e1b222', 'Going', 'Organizer', now()),
    (6, 2, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 'Going', 'Participant', now()),
    (7, 2, 'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 'Going', 'Participant', now()),

    (8, 3, 'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 'Going', 'Organizer', now()),
    (9, 3, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 'Going', 'Participant', now()),
    (10, 3, '5f6c3628-0554-4a54-94cc-52e048e1b222', 'Going', 'Participant', now()),
    (11, 3, 'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 'Going', 'Participant', now()),

    (12, 4, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 'Going', 'Organizer', now()),
    (13, 4, '5f6c3628-0554-4a54-94cc-52e048e1b222', 'Going', 'Participant', now()),
    (14, 4, 'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 'Going', 'Participant', now()),
    (15, 4, 'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 'Going', 'Participant', now()),

    (16, 5, 'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 'Going', 'Organizer', now()),
    (17, 5, 'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 'Going', 'Participant', now()),
    (18, 5, '5f6c3628-0554-4a54-94cc-52e048e1b222', 'Going', 'Participant', now()),
    (19, 5, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 'Going', 'Participant', now()),

    (21, 6, '5f6c3628-0554-4a54-94cc-52e048e1b222', 'Going', 'Organizer', now()),
    (22, 6, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 'Going', 'Participant', now()),

    (23, 7, 'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 'Going', 'Organizer', now()),
    (24, 7, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 'Going', 'Participant', now()),
    (25, 7, '5f6c3628-0554-4a54-94cc-52e048e1b222', 'Going', 'Participant', now());

SELECT setval('event_members_id_seq', (SELECT MAX(id) FROM event_members));

-- Лайки
INSERT INTO liked_posts (id, user_id, event_id, created_at)
VALUES
    (1, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 1, now()),
    (2, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 3, now()),
    (3, '5f6c3628-0554-4a54-94cc-52e048e1b222', 1, now()),
    (4, '5f6c3628-0554-4a54-94cc-52e048e1b222', 5, now()),
    (5, 'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 2, now()),
    (6, 'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 5, now()),
    (7, 'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 3, now()),
    (8, 'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 7, now());

SELECT setval('liked_posts_id_seq', (SELECT MAX(id) FROM liked_posts));

-- Сохранённые
INSERT INTO saved_posts (id, user_id, event_id, created_at)
VALUES
    (1, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 5, now()),
    (2, 'd9a69b9a-8e9b-4b56-8c65-4d3a5ad1a111', 7, now()),
    (3, '5f6c3628-0554-4a54-94cc-52e048e1b222', 3, now()),
    (4, 'b0a4a8e5-7a66-4ad3-a0c6-11a9f33c1c33', 1, now()),
    (5, 'f39a0595-b79c-4bdb-a0e6-905c1f4c3d44', 2, now());

SELECT setval('saved_posts_id_seq', (SELECT MAX(id) FROM saved_posts));
